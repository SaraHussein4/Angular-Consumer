<div class="container mt-4">
  <h2>My Orders</h2>
  
  <div class="row">
    <div class="col-12">
      <div *ngFor="let order of orders" class="card mb-4">
        <div class="card-header d-flex justify-content-between align-items-center">
          <div>
            <h5 class="mb-0">Order #{{ order.id }}</h5>
            <small class="text-muted">{{ order.orderDate | date:'medium' }}</small>
          </div>
          <span [class]="'badge ' + getStatusBadgeClass(order.status)">
            {{ order.status }}
          </span>
        </div>
        <div class="card-body">
          <div class="row mb-3">
            <div class="col-md-6">
              <h6>Shipping Address</h6>
              <p class="mb-0">{{ order.shippingAddress.firstName }} {{ order.shippingAddress.lastName }}</p>
              <p class="mb-0">{{ order.shippingAddress.street }}</p>
              <p class="mb-0">{{ order.shippingAddress.city }}, {{ order.shippingAddress.country }}</p>
            </div>
            <div class="col-md-6">
              <h6>Order Summary</h6>
              <p class="mb-0">Delivery Method: {{ order.deliverymethod }}</p>
              <p class="mb-0">Subtotal: ${{ formatPrice(order.subTotal) }}</p>
              <p class="mb-0">Delivery Cost: ${{ formatPrice(order.deliveryMethodCost) }}</p>
              <p class="mb-0"><strong>Total: ${{ formatPrice(order.total) }}</strong></p>
            </div>
          </div>
          
          <h6>Items</h6>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Price</th>
                  <th>Quantity</th>
                  <th>Total</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of order.items">
                  <td>
                    <div class="d-flex align-items-center">
                      <img [src]="item.pictureUrl" [alt]="item.productName" class="img-thumbnail me-2" style="width: 50px;">
                      <span>{{ item.productName }}</span>
                    </div>
                  </td>
                  <td>${{ formatPrice(item.price) }}</td>
                  <td>{{ item.quantity }}</td>
                  <td>${{ formatPrice(item.price * item.quantity) }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 